ID = HOSTIP/NETID et tout cela doit être administrer
show ip : MAC = adresse 

ping = envoyer donne donnée, et donne diagnostic de réseau

@IP = adresse ip.

icmp_seq = protocole, support du ping, protocole pour la diagnostic de réseau.

la valeur du icmp_seq permet de savoir à quel séquence cela fait référence
ip 192.168.0.1/24 -> créer une ip.

sauvegarder chaque PC sur gns avant : wr

pour relier 3 machines entre elles : nécessite un équipement servant de liaison commune à tous les pc : un hub
(concentrateur)

chacun des connexions seront branchés sur des ports du hub 

réseau en étoile avec 3pc et un hub.

il prend ce qu'il y'a su run port et le recopie partout 

le ping = aller retour

donc dans les echanges : on voit l'aller et le retour : reply et request

Qd on fait un ping : 1er msg ICMP echo_request
2ème : msg ICMP echo reply.

adresse mac = couche liaison 
Destination et source indique des adresses mac

TTL = Time to Live 

ICMP = Internet Control Message Protocol

ICMP au dessus d'IP donc protocole : entre application et réseau.

Start capture : sur une autre liaison que la ou le ping s'est fait : on capture quand même tous les reply et request.

switch : permet réseau en étoile.

Switch Start capture : sur une autre liaison que la ou le ping s'est fait : on pas les reply et request.

Le switch garde en mémoire l'adresse MAC du pc et la lie à son port qui est destiné au pc.

Le swtich se sert de l'adress MAC des ports pour faire en sorte que seulement les pc concernés par le transfert recoivent les données.



Le switch n'enregistre pas les adresses IP.

l'adresse MAC fonctionne dans le niveau 2 (couche liaison). 

Le switch étbalie un trafic selon entre les pc concernés, à l'inverse des hub.

12 messages : 

2 premiers : Protocole ARP

10 autres : ICMP.

internet : ensemble de réseau connectés entre eux.

le web : application d'internet. exemple : url.

On demande au broadcast qui possède cette l'adresse IP, le pc reconnu transmet sa réponse 
Ceci sont les 2 messages jaunes en debut de capture.

Adresse mac fixé sur 6 octets, elle est sensé ne jamais changé 


TP 2 : 


adresse mac PC1 : 00:50:79:66:68:00

ad mac PC 2 : 00:50:79:66:68:01

ad mac : 00:50:79:66:68:02

Protocole : ARP, la source dans le  TP2 est une adresse mac

Quand on déroule ethernet on a 3 champs on a l'EN TÊTE: 
  Destination : adresse MAC destination
  source : source 
  type : sert à savoir cmmnt lire les prochaines données qui vont suivre (protocole de la charge utile (ce qu'on transporte))
        type tjr représenté par 2 octets ?

On veut communniquer 

ether

On parle de trame Ethernet. C’est la couche la plus englobante. Pour envoyer un message sur
le réseau local, il est donc nécessaire pour les machines qui souhaitent envoyer un message sur
le réseau de fabriquer cette couche, et donc de disposer des informations nécessaires, notamment
l’adresse MAC de la machine de destination.
Cependant, lorsque vous avez envoyé un ping, vous n’avez pas précisé cette adresse MAC de
destination, vous avez utilisé l’adresse IP de destination. Comment faire le lien entre cette adresse
IP et l’adresse MAC ?
C’est le rôle du protocole ARP (Address Resolution Protocol ) qui a pour but de faire le lien entre
les adresses IP (couche réseau) et les adresses MAC (couche liaison)
Soit la définition extraite de la page :

ARP sert à trouver à qui les adresses ip appartiennent en utilisant les Adresses MAC.

le who has est le broadcast de niveau 2 
tous les ordinateurs du réseau vont recevoir la requête, ainsi ils détermineront s'ils sont visés ou non, et alors  la machine
contenant l'adresse IP répondra en protocole ARP (style cest moi adrsse IP)

L'ordinateur pourra répondre car dans le message who has, il est communiqué l'adresse MAC de la source (l'émetteur)

dans le cash ARP (la mémoire qui est propre à chaque pc) le récepteur est e 1er à recevoir les informations (lier l'adresse MAC de l'émetteur à l'ip de l'émetteur) le tout aider par le broadcast.

On a besoin de l'@ mac pour la tram ethernet (source destination)


tp 3 

172.230.192.0/25
172.230.192.128/25

172.230.192.126  (@ip interface e0 et ce n'est pas 172.230.192.127 car cela aurait laissé en host id les bits suivants : 111 1111, ce qui est réservé au broacast

172.230.192.254 pour le 2ème interface du routeur.

netmask pour les 2 : 255.255.255.128

sh ip int br

avev routeur, PC1 peut pas communiquer avec PC2, mais pc1 pe communiquer avec routeur et pc2 aussi.

Les machines qui arrivent à se pinguer sont les machines qui sont sur le même réseau, ce qui compte c'est l'interface.

No gateway found (msg d'erreur) veut dire pas de passerelle trouvé (dans la table de routage). et que c'est la table de routage du pc qui émet le ping qui est en erreur.

Gateway of last resort is not set =  

3.1 qd on configure un interface, les entrées correspondantes sont automatiquement mises dans la table de routage.

ajouter une passerelle à un pc 1 : 172.230.192.1 255.255.255.128 gateway 172.230.192.126

timeout apparapit si le pc récepteur n'a pas de passerelle et ne peut pas recevoir le message.

avant ping, pc1 regarde sa table de routage en premier, ensuite on sait que l apasserelle est sur le mm reseau locale don con a besoin de son adresse mac, regarde si son cache est vide, et s'il est vide il rl
demande au broadcast who has l'@ IP de l'interface RESEAU 

le routeur regarde pour atteindre sa table de routage pour communiquer avec pc2 et voit que sa passerelle est 
sur le mm reseau que pc2.

le who has met à jour le cache ARP dans les deux de l'échange et en 1er dans le récepteur car il connitra en premier 
l'@ mac de l'émetteur.

configure terminal
interface < nom interface > e0/0
ip address <IP > < mask >
no shutdown
end


191.160.128.0/24 r1
191.160.130.0/24 r2
191.160.131.0/24 r3

ip interface r1 : 191.160.128.254
r2 : 191.160.129.254
r3 : 191.160.130.254

une entrée est ajt automatiquement dans la table de routage lorsque que l'on configure l'adresse ip d'une interface, cette entrée dans la table de routage correspond au réseau local.

Pour ajouter une route (statique) sur un routeur la commande est la suivante
configure terminal
ip r


